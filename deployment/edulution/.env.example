# =====================================================
# EDULUTION MOODLE - KONFIGURATION
# =====================================================
# 1. Diese Datei kopieren: cp .env.example .env
# 2. Alle Werte anpassen
# 3. docker compose up -d
# =====================================================

# =====================================================
# DOMAIN / URL
# =====================================================
# Vollstaendige URL zu Moodle (mit https://)
MOODLE_URL=https://ui.DEINE-DOMAIN.de/moodle

# =====================================================
# MOODLE ADMIN
# =====================================================
MOODLE_SITE_NAME=Moodle
MOODLE_ADMIN_USER=admin
MOODLE_ADMIN_PASSWORD=SICHERES_ADMIN_PASSWORT
MOODLE_ADMIN_EMAIL=admin@DEINE-DOMAIN.de
MOODLE_LANGUAGE=de

# =====================================================
# DATENBANK (sichere Passwoerter generieren!)
# =====================================================
MOODLE_DB_PASSWORD=SICHERES_DB_PASSWORT
MOODLE_DB_ROOT_PASSWORD=SICHERES_ROOT_PASSWORT

# =====================================================
# KEYCLOAK
# =====================================================
# URL zu Keycloak (mit /auth/ am Ende falls Keycloak < 17)
KEYCLOAK_URL=https://ui.DEINE-DOMAIN.de/auth/

# Realm Name
KEYCLOAK_REALM=edulution

# Client ID (muss in Keycloak erstellt werden)
KEYCLOAK_CLIENT_ID=edu-moodle-sync

# Client Secret (aus Keycloak Credentials Tab kopieren)
KEYCLOAK_SECRET=DEIN_CLIENT_SECRET_AUS_KEYCLOAK

# SSL Zertifikat pruefen (1=ja, 0=nein)
KEYCLOAK_VERIFY_SSL=1

# =====================================================
# SYNC
# =====================================================
# Sync aktivieren
SYNC_ENABLED=1

# DRY_RUN=1 zeigt nur was passieren wuerde (zum Testen!)
# DRY_RUN=0 fuehrt echte Aenderungen durch
DRY_RUN=1

# Sync-Intervall in Sekunden
SYNC_INTERVAL=300

# Welche Keycloak-Gruppen synchronisieren
SYNC_GROUPS=role-schooladministrator,role-teacher,role-student

# =====================================================
# ROLLEN-MAPPING
# =====================================================
ROLE_STUDENT_GROUPS=role-student
ROLE_TEACHER_GROUPS=role-teacher
ROLE_MANAGER_GROUPS=role-schooladministrator
