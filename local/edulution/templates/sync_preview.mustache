{{!
    Sync preview template for local_edulution.
}}

<div class="sync-preview" style="font-size: 13px;">
    {{#hasWarnings}}
    <div class="alert alert-warning py-2 mb-2">
        <i class="fa fa-exclamation-triangle"></i> <strong>Warnungen:</strong>
        {{#warnings}}<span class="ms-2">{{.}}</span>{{/warnings}}
    </div>
    {{/hasWarnings}}

    <!-- Summary -->
    <div class="row g-2 mb-3">
        <div class="col-3">
            <div class="card text-center py-2 {{#createCount}}border-success{{/createCount}}">
                <div class="text-success" style="font-size: 20px; font-weight: 600;">{{createCount}}</div>
                <small class="text-muted">Erstellen</small>
            </div>
        </div>
        <div class="col-3">
            <div class="card text-center py-2 {{#updateCount}}border-info{{/updateCount}}">
                <div class="text-info" style="font-size: 20px; font-weight: 600;">{{updateCount}}</div>
                <small class="text-muted">Aktualisieren</small>
            </div>
        </div>
        <div class="col-3">
            <div class="card text-center py-2 {{#deleteCount}}border-danger{{/deleteCount}}">
                <div class="text-danger" style="font-size: 20px; font-weight: 600;">{{deleteCount}}</div>
                <small class="text-muted">Entfernen</small>
            </div>
        </div>
        <div class="col-3">
            <div class="card text-center py-2">
                <div class="text-secondary" style="font-size: 20px; font-weight: 600;">{{skipCount}}</div>
                <small class="text-muted">Überspringen</small>
            </div>
        </div>
    </div>

    <p class="text-muted mb-2">
        <i class="fa fa-info-circle"></i> Klicken Sie auf "Starten" um die Synchronisierung auszuführen.
    </p>

    <!-- Items to Create -->
    {{#createCount}}
    <div class="preview-section mb-2">
        <div class="d-flex justify-content-between align-items-center">
            <h6 class="mb-0"><span class="badge bg-success">{{createCount}}</span> Erstellen</h6>
            <a href="#" class="toggle-details"><i class="fa fa-chevron-down"></i></a>
        </div>
        <div class="details-list" style="display: none;">
            <table class="table table-sm table-hover mt-2 mb-0">
                <tbody>
                    {{#toCreate}}
                    <tr>
                        <td style="width: 80px;"><span class="badge bg-secondary">{{type}}</span></td>
                        <td>{{name}}</td>
                        <td class="text-muted">{{details}}</td>
                    </tr>
                    {{/toCreate}}
                </tbody>
            </table>
        </div>
    </div>
    {{/createCount}}

    <!-- Items to Update -->
    {{#updateCount}}
    <div class="preview-section mb-2">
        <div class="d-flex justify-content-between align-items-center">
            <h6 class="mb-0"><span class="badge bg-info">{{updateCount}}</span> Aktualisieren</h6>
            <a href="#" class="toggle-details"><i class="fa fa-chevron-down"></i></a>
        </div>
        <div class="details-list" style="display: none;">
            <table class="table table-sm table-hover mt-2 mb-0">
                <tbody>
                    {{#toUpdate}}
                    <tr>
                        <td style="width: 80px;"><span class="badge bg-secondary">{{type}}</span></td>
                        <td>{{name}}</td>
                        <td class="text-muted">{{details}}</td>
                    </tr>
                    {{/toUpdate}}
                </tbody>
            </table>
        </div>
    </div>
    {{/updateCount}}

    <!-- Items to Delete -->
    {{#deleteCount}}
    <div class="preview-section mb-2">
        <div class="d-flex justify-content-between align-items-center">
            <h6 class="mb-0"><span class="badge bg-danger">{{deleteCount}}</span> Entfernen</h6>
            <a href="#" class="toggle-details"><i class="fa fa-chevron-down"></i></a>
        </div>
        <div class="details-list" style="display: none;">
            <table class="table table-sm table-hover mt-2 mb-0">
                <tbody>
                    {{#toDelete}}
                    <tr class="table-danger">
                        <td style="width: 80px;"><span class="badge bg-secondary">{{type}}</span></td>
                        <td>{{name}}</td>
                        <td class="text-muted">{{details}}</td>
                    </tr>
                    {{/toDelete}}
                </tbody>
            </table>
        </div>
    </div>
    {{/deleteCount}}
</div>
